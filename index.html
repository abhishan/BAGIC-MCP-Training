<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copilot Studio Training Hub</title>
    <!-- Google Fonts: Inter and Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="assets/SaxonLogo.png" alt="Saxon AI" style="height: 40px; width: auto;">
                <span>Copilot Studio Labs</span>
            </div>
            <button class="theme-btn" onclick="toggleTheme()" id="themeSwitcher">
                <span id="themeIcon">üåô</span>
                <span id="themeText">Dark Mode</span>
            </button>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Bajaj General Insurance Workshop</h1>
                <p>Self-paced, hands-on training labs to help you build, deploy, and manage intelligent agents with
                    Microsoft Copilot Studio.</p>
            </div>
        </section>

        <section class="container">
            <div class="grid">
                <!-- Lab 1 -->
                <div class="card">
                    <div>
                        <span class="tag beginner">Beginner</span>
                    </div>
                    <h3>Build a Web-Grounded Copilot Studio Agent for Non-Life Insurance Catalogue</h3>
                    <p>Create a declarative Copilot agent grounded in Bajaj General Insurance web data to answer
                        insurance product queries.</p>
                    <div class="meta">
                        <span>‚è± 20 mins</span>
                        <span>üéØ 6 Steps</span>
                    </div>
                    <a href="_labs/lab01.html" class="btn">Start Lab</a>
                </div>

                <!-- Lab 2 -->
                <div class="card">
                    <div>
                        <span class="tag advanced">Advanced</span>
                    </div>
                    <h3>Build a Claims Analysis Copilot Studio Agent Using Localized Document Knowledge</h3>
                    <p>Create an advanced Copilot Studio agent that performs analytical claims Q&A using localized Excel
                        data and triggers automated email workflows using Power Automate.</p>
                    <div class="meta">
                        <span>‚è± 30 mins</span>
                        <span>üéØ 10 Steps</span>
                    </div>
                    <a href="_labs/lab02.html" class="btn">Start Lab</a>
                </div>

                <!-- Lab 3 
                <div class="card">
                    <div>
                        <span class="tag advanced">Advanced</span>
                    </div>
                    <h3>Power Automate Workflows</h3>
                    <p>Go beyond chat. Integrate complex business logic and external APIs using Power Automate flows
                        within your AI conversations.</p>
                    <div class="meta">
                        <span>‚è± 90 mins</span>
                        <span>üéØ 6 Modules</span>
                    </div>
                    <a href="training.html?id=3" class="btn">Start Lab</a>
                </div>-->
            </div>
        </section>
    </main>

    <!-- My Progress Panel -->
    <div id="progressPanel" class="progress-panel">
        <div class="progress-panel-content">
            <div class="panel-header">
                <h3>üìä My Progress</h3>
                <button class="close-btn" onclick="toggleProgressPanel()" aria-label="Close Panel">√ó</button>
            </div>

            <div class="progress-circle-container">
                <svg class="progress-ring" width="120" height="120">
                    <circle class="progress-ring-bg" cx="60" cy="60" r="54" />
                    <circle id="progressCircle" class="progress-ring-fill" cx="60" cy="60" r="54" />
                </svg>
                <div class="progress-percentage" id="progressPercentage">0%</div>
            </div>

            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-info">
                        <div class="stat-label">Labs Completed</div>
                        <div class="stat-value" id="labsCompleted">0/4</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">üîÑ</div>
                    <div class="stat-info">
                        <div class="stat-label">Total Attempts</div>
                        <div class="stat-value" id="totalAttempts">0</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-info">
                        <div class="stat-label">Last Attempt</div>
                        <div class="stat-value" id="lastAttemptTime">--:--:--</div>
                    </div>
                </div>
            </div>

            <div class="badges-section">
                <h4>üèÜ Badges Earned</h4>
                <div id="badgesContainer" class="badges-grid">
                    <!-- Badges will be populated by JavaScript -->
                </div>
            </div>

            <button class="reset-btn" onclick="handleResetProgress()">Reset Progress</button>
        </div>
    </div>

    <!-- Progress Panel Toggle Button -->
    <button id="progressToggle" class="progress-toggle" onclick="toggleProgressPanel()">
        <span class="toggle-icon">üìä</span>
        <span class="toggle-text">My Progress</span>
    </button>

    <footer>
        <div class="container">
            <p>&copy; 2026 (C) Saxon www.saxon.ai</p>
        </div>
    </footer>

    <script src="js/progress.js"></script>
    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            const target = current === 'dark' ? 'light' : 'dark';

            applyTheme(target);
        }

        function applyTheme(theme) {
            const html = document.documentElement;
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);

            const icon = document.getElementById('themeIcon');
            const text = document.getElementById('themeText');

            if (theme === 'dark') {
                icon.innerText = '‚òÄÔ∏è';
                text.innerText = 'Light Mode';
            } else {
                icon.innerText = 'üåô';
                text.innerText = 'Dark Mode';
            }
        }


        // Initialize theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);

        // Progress Panel Functions
        function toggleProgressPanel() {
            const panel = document.getElementById('progressPanel');
            const toggle = document.getElementById('progressToggle');

            if (panel.classList.contains('open')) {
                panel.classList.remove('open');
                toggle.classList.remove('hidden');
            } else {
                panel.classList.add('open');
                toggle.classList.add('hidden');
                updateProgressPanelUI(); // Refresh data when opening
            }
        }

        function handleResetProgress() {
            if (confirm('Are you sure you want to reset all progress? This action cannot be undone.')) {
                resetProgress();
                location.reload();
            }
        }

        // Initialize progress panel on page load
        document.addEventListener('DOMContentLoaded', function () {
            updateProgressPanelUI();
        });
    </script>
</body>

</html>